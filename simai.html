<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Sederhana Cara Kerja AI</title>
    <!-- 1. Memuat Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. Memuat Alpine.js untuk interaktivitas -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        /* Sedikit style tambahan agar lebih rapi */
        body { background-color: #f3f4f6; font-family: sans-serif; }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div 
        class="max-w-6xl mx-auto" 
        x-data="aiDemo()" 
        x-cloak
    >
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Demo Sederhana: Bagaimana AI Belajar</h1>
            <p class="mt-2 text-gray-600">Mari kita ajari "AI" di bawah ini untuk mengenali sentimen kalimat.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <!-- KOLOM KIRI: TRAINING & OTAK AI -->
            <div>
                <!-- Langkah 1: Memberi Contoh (Data) -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                    <h2 class="text-2xl font-bold text-gray-700 mb-1">Langkah 1: Ajari AI dengan Contoh</h2>
                    <p class="text-sm text-gray-500 mb-4">Masukkan sebuah kalimat, lalu beri tahu AI apakah kalimat itu 'Senang' atau 'Sedih'.</p>
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input 
                            type="text" 
                            x-model="trainingText" 
                            @keydown.enter="addTrainingData('Senang')"
                            placeholder="Contoh: Saya suka makan es krim" 
                            class="flex-grow p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                        >
                        <div class="flex gap-2">
                            <button @click="addTrainingData('Senang')" class="w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-md hover:bg-green-600 transition">Ajari "Senang" ğŸ˜Š</button>
                            <button @click="addTrainingData('Sedih')" class="w-full sm:w-auto bg-blue-500 text-white font-bold py-3 px-4 rounded-md hover:bg-blue-600 transition">Ajari "Sedih" ğŸ˜¢</button>
                        </div>
                    </div>
                    
                    <div class="mt-4" x-show="trainingData.length > 0">
                        <h3 class="font-semibold text-gray-600">Contoh yang sudah diajarkan:</h3>
                        <ul class="list-disc list-inside mt-2 text-gray-700 max-h-40 overflow-y-auto">
                            <template x-for="(data, index) in trainingData" :key="index">
                                <li :class="data.sentiment === 'Senang' ? 'text-green-700' : 'text-blue-700'">
                                    "<span x-text="data.text"></span>" &rarr; <span x-text="data.sentiment"></span>
                                </li>
                            </template>
                        </ul>
                    </div>
                </div>

                <!-- Langkah 2: Proses Belajar (Mencari Pola) -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-gray-700 mb-1">Langkah 2: "Otak" AI</h2>
                    <p class="text-sm text-gray-500 mb-4">AI akan mengingat kata-kata yang berhubungan dengan setiap sentimen.</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h3 class="font-bold text-green-600">Kata-kata "Senang" ğŸ˜Š</h3>
                            <div class="flex flex-wrap gap-2 mt-2">
                                <template x-for="word in Array.from(brain.senang)" :key="word">
                                    <span class="bg-green-100 text-green-800 text-sm font-medium px-2.5 py-0.5 rounded-full" x-text="word"></span>
                                </template>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-blue-600">Kata-kata "Sedih" ğŸ˜¢</h3>
                            <div class="flex flex-wrap gap-2 mt-2">
                                <template x-for="word in Array.from(brain.sedih)" :key="word">
                                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full" x-text="word"></span>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KOLOM KANAN: PREDIKSI -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-700 mb-1">Langkah 3: Uji Coba AI</h2>
                <p class="text-sm text-gray-500 mb-4">Sekarang, masukkan kalimat baru yang belum pernah diajarkan dan lihat tebakan AI.</p>
                
                <div class="flex flex-col sm:flex-row gap-2">
                    <input 
                        type="text" 
                        x-model="testText"
                        @keydown.enter="makePrediction()"
                        placeholder="Contoh: Hari ini cuaca cerah" 
                        class="flex-grow p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                    >
                    <button @click="makePrediction()" class="bg-indigo-600 text-white font-bold py-3 px-4 rounded-md hover:bg-indigo-700 transition">Tebak Sentimen!</button>
                </div>

                <div class="mt-8 text-center" x-show="prediction">
                    <h3 class="text-gray-600">Hasil Tebakan AI:</h3>
                    <p 
                        class="text-4xl font-bold mt-2"
                        :class="{
                            'text-green-500': prediction.includes('Senang'),
                            'text-blue-500': prediction.includes('Sedih'),
                            'text-gray-500': prediction.includes('Tahu')
                        }"
                        x-text="prediction"
                    ></p>
                    <p class="text-sm text-gray-500 mt-2" x-text="predictionReason"></p>
                </div>
            </div>

        </div>
    </div>

    <script>
        function aiDemo() {
            return {
                // --- DATA STATE ---
                trainingText: '',
                trainingData: [],
                brain: {
                    senang: new Set(), // Pakai Set agar tidak ada kata duplikat
                    sedih: new Set()
                },
                testText: '',
                prediction: '',
                predictionReason: '',

                // --- HELPER FUNCTION ---
                // Membersihkan dan memecah kalimat menjadi kata-kata
                getWords(text) {
                    return text.toLowerCase().replace(/[^\w\s]/gi, '').split(' ').filter(word => word.length > 0);
                },

                // --- CORE LOGIC ---

                // Langkah 1 & 2: Menerima data dan "belajar"
                addTrainingData(sentiment) {
                    if (this.trainingText.trim() === '') return;

                    // Simpan contohnya
                    this.trainingData.push({ text: this.trainingText, sentiment: sentiment });

                    // Proses "Belajar": pecah kalimat dan simpan kata-katanya ke "otak"
                    const words = this.getWords(this.trainingText);
                    if (sentiment === 'Senang') {
                        words.forEach(word => this.brain.senang.add(word));
                    } else {
                        words.forEach(word => this.brain.sedih.add(word));
                    }

                    // Kosongkan input
                    this.trainingText = '';
                },

                // Langkah 3: Membuat prediksi
                makePrediction() {
                    if (this.testText.trim() === '') return;

                    const words = this.getWords(this.testText);
                    let scoreSenang = 0;
                    let scoreSedih = 0;

                    // Hitung skor berdasarkan kata-kata di "otak"
                    words.forEach(word => {
                        if (this.brain.senang.has(word)) scoreSenang++;
                        if (this.brain.sedih.has(word)) scoreSedih++;
                    });

                    // Tentukan hasil tebakan
                    if (scoreSenang > scoreSedih) {
                        this.prediction = 'Kemungkinan Besar: Senang ğŸ˜Š';
                    } else if (scoreSedih > scoreSenang) {
                        this.prediction = 'Kemungkinan Besar: Sedih ğŸ˜¢';
                    } else {
                        this.prediction = 'Netral / Tidak Tahu ğŸ¤”';
                    }
                    
                    this.predictionReason = `Alasan: Ditemukan ${scoreSenang} kata 'Senang' dan ${scoreSedih} kata 'Sedih'.`;
                }
            }
        }
    </script>
</body>
</html>
